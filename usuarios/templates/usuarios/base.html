{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Meu App{% endblock %}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'usuarios/css/styles.css' %}" />
    {% block extra_css %}{% endblock %}
  </head>
  {% if messages %}
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const toastContainer = document.getElementById("toastContainer");

      {% for message in messages %}
        const toastEl = document.createElement("div");
        toastEl.className = "toast align-items-center text-bg-{{ message.tags }} border-0 show";
        toastEl.role = "alert";
        toastEl.innerHTML = `
          <div class="d-flex">
            <div class="toast-body">
              {{ message }}
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
          </div>
        `;
        toastContainer.appendChild(toastEl);
        new bootstrap.Toast(toastEl, { delay: 4000 }).show();
      {% endfor %}
    });
  </script>
  {% endif %}

  <body>
    {% include 'usuarios/navbar.html' %}

    <main class="container my-4">{% block content %}{% endblock %}</main>

    <div id="toastContainer" class="position-fixed bottom-0 end-0 p-3" style="z-index: 1100"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'usuarios/js/usuarios.js' %}"></script>
    {% block extra_js %}{% endblock %}
  </body>
</html>
